<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>js-dos Emulator</title>
    <style>
        html, body { height: 100%; }
        #dos { width: 100%; height: 100%; }
    </style>
    <link rel="stylesheet" href="https://v8.js-dos.com/latest/js-dos.css">
    <script src="https://v8.js-dos.com/latest/js-dos.js"></script>
</head>
<body>
    <h1 id="goof">gee</h1>
    <div id="dos"></div>

    <script>
        Dos(document.getElementById("dos")).then(function (runtime) {
            // Mount the /d directory and add the sound.wav file
            runtime.fs.mount("/d", function (path) {
                return fetch("https://gaddis-dev.github.io/ALL%20MY%20FELLAS%20(FRIZKY).wav")
                    .then(response => response.arrayBuffer())
                    .then(buffer => {
                        // Create the sound.wav file in the js-dos virtual filesystem under D:
                        runtime.fs.createFile(path + "sound.wav", new Uint8Array(buffer));
                    });
            });

            // Run DOS commands to switch to D: drive
            runtime.main([
                "-c", "D:",                 // Switch to the D: drive where the .wav file is mounted
                "-c", "dir",                // List files to verify sound.wav is there
                "-c", "echo File mounted!"  // Echo a success message
            ]);
        }).catch(function (error) {
            document.getElementById("goof").innerHTML = error.message;
        });
    </script>
</body>
</html>
